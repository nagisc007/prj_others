# -*- coding: utf-8 -*-
"""Story: chapter 3 ''
"""
import os
import sys
sys.path.append(os.path.join(os.path.dirname(__file__), '../..'))
sys.path.append('storybuilder')

from storybuilder.builder import world as wd
from src.pants import config as cnf
THM = cnf.THEMES

# titles
TITLE = [
        # chapter3
        # NOTE: １話あたり2000から3000字程度、増えたら前後編
        "パンツとストッキング",# NOTE: 彼女の妹
        "パンツとエプロン",# NOTE: 村編突入
        "パンツが下着でエプロンが服で",
        "パンツの思考",
        "彼女がパンツを脱ぐとき",
        "パンツ復活",
        "激突パンツとストッキング",
        "パンツ覚醒",
        "パンツの人権",
        ]

# scenes
## ep23 scenes
def sc_mysister(w: wd.World):
    h = hero = w.hero
    ery, dran, lily, mirei = w.ery, w.dran, w.lily, w.mirei
    return w.scene("我が妹",
            h.be(w.stage.left_prison, w.day.outprison),
            h.look("お姉ちゃん", "と$eryのことを呼んだピンク髪のガーターストッキング女は",
                "大量の滝のような髪で隠した豊満なバストを揺するように胸を張りながら",
                "もう一度アッハと笑った"),
            ery.talk("その下品な笑い方は五百年経っても治っておらんようだの"),
            lily.talk("そんな小さな体で$meに品を説こうだなんて",
                "それこそ五百万年早いわよ。",
                "かつて最悪の大賢者と恐れられた頃の面影が全然なくなってしまって",
                "あらあら", "お可哀そうに"),
            h.deal("彼女は口元に手を当てて", "アッハと笑う"),
            h.look("$n_dranはその巨大な体を一ミリと震わさずに沈黙したままだが",
                "この二人の関係を知っているのだろうか"),
            ery.talk("色々と事情があっての",
                "今はこのような成りになってしまったが", "それを言うなら$lilyの方はどうなのだ？",
                "そのパンツの上下にある奇妙なものは？"),
            h.look("$lilyと呼ばれた女性は「これか？」と舐めるようにこちらを見たまま口元を歪ませる"),
            lily.talk("$eryは知らないでしょうけど", "これねパンティとストッキングっていう神具なのよ。",
                "この力のお陰で今$meは賢者になれているの。", "この世界の大賢者になるのも時間の問題よ"),
            h.think("パンティとストッキング", "という言葉の強烈さに頭がくらくらしそうになったが",
                "パンツである$meにはそんな頭部の中身はなかったことに気づいて",
                "今一度彼女の身につけている下着を凝視した"),
            h.look("ぴったりとそのスリムな下半身に張り付いている黒の下着は",
                "赤い刺繍が入れられた大人向けのものに思える。",
                "ただ$meよりも随分と股布の面積が小さく",
                "何よりオプションというよりもそっちが本体と思えるようなガーターベルトとストッキングが一緒に身に付けられている"),
            h.look("臍《へそ》の下あたりから手を置いたような布の付いたベルトが巻かれ",
                "そこから黒のバンドがストッキングまで伸びている。",
                "そのストッキングの方も黒一色ではなくところどころに赤い糸で柄が編まれ",
                "脹脛から足首に掛けては薔薇の花だろうか", "薄っすらと浮かび上がって見える"),
            ery.talk("ほお。",
                "神具とな？", "そのようなものでもなければ$meの足元にも及ばなかったお前の$i_energyが",
                "それで一体如何ほどのものとなったのだ？",
                "少なくとも$meには何も変わらぬようにしか見えぬが？"),
            h.think("$lilyと呼ばれた彼女も$eryと同じようにパンツを知らないとすれば",
                "彼女は一体あれをどこで手に入れたのだろう。", "神具と言っていたが",
                "パンツそのものの概念が存在しない世界には流石にパンティもストッキングもないだろう"),
            lily.talk("五百年も地下深くで引き籠ってた$eryには分からないわよ。",
                "$meがあんたのことでどれだけ苦労して",
                "どれほどの苦渋を味わったかなんて。",
                "$meはね", "ずっとあんたに復讐することだけを願って今日まで生き延びてきたんだよ。",
                "それなのに……いつまでその馬鹿にした態度で$meのことを見てんだよ！"),
            h.look("$lilyは姿勢を低くすると",
                "ストッキングに覆われた自身の太腿を膝頭まで撫でた"),
            h.look("刹那", "彼女の背中から何かの燃料を燃やしたような赤黒い炎が翼のように吹き出す"),
            ery.talk("くっ"),
            h.deal("$eryの体が後ろに弾き飛ばされたのは一瞬の出来事だった"),
            ery.talk("……落ちる！"),
            h.deal("両腕を前にクロスさせて直撃こそ防いだようだが",
                "崖から宙へと飛び出した$eryの体は支えるものを失い", "そのまま落下する。",
                "$meは背中側が見られずにただ遠ざかる崖の切っ先と",
                "そこに顔を出してこちらを見やる$lilyの姿が確認できただけだ"),
            hero.talk("$eryさん？"),
            ery.talk("力が……抜ける"),
            h.deal("小さく呻いた後で彼女は胸の前にやっていた腕をだらりと垂らし",
                    "そのまま頭から木々の間へと突っ込んだ"),
            hero.talk("$eryさん！"),
            h.deal("$meが声を掛けても反応がなく",
                    "体とパンツが細くて尖った葉の束を押し広げながら落ちていく"),
            hero.talk("痛っ！！"),
            h.deal("それはかなり強い衝撃とそこから来る全身に広がる痛みだった。",
                    "やはり$eryの髪の毛の影響で以前よりもはっきりと感覚が存在しているらしい。",
                    "こんな時ばかりは痛覚だけでも無かったらと思わずにはいられないが",
                    "どうやらそうも言っていられない"),
            hero.talk("$eryさん？"),
            h.deal("いくら待っても彼女が立ち上がる様子がない"),
            hero.talk("$eryさん！", "……$ery？", "なあ、どうしたんだ？",
                    "まさかくたばってしまった訳じゃないよな？"),
            h.deal("返事もない。",
                    "それに動いている時には$meの内側に確かに彼女の存在感があったが",
                    "今は石にでも触れているような心地だ。",
                    "そもそもこんなに彼女の肌は冷たかっただろうか"),
            hero.talk("……打ちどころが悪かったのか？",
                    "それとも$meの声が聞こえなくなったのか？"),
            h.think("彼女は完全に沈黙していた"),
            h.deal("動くこともないし", "聴覚に集中してみたが呼吸音もないんじゃないだろうか。",
                    "ただ元から彼女が呼吸をしていたかどうか覚えがなかった。",
                    "見た目が人間に似ているからといって心臓や肺を持っていたり脳があると考える方が間違っているかも知れない"),
            h.think("ここは$meが生きていた世界とは違うんだ"),
            h.think("何度もそう言い聞かせないとなかなか染み付いた常識というものは拭い去れそうになかった"),
            hero.talk("よし。", "まずは状況を確認しよう。",
                    "できることとできないことをはっきりさせ",
                    "タスクリストにして一つずつ地道にこなす。",
                    "そうやって今まで何度も窮地を抜けてきたじゃないか"),
            h.think("わざわざ自分に言いきかせるように声に出すと",
                    "パンツとしてできることを考えた"),
            h.look("上", "即ち今$meが見ているのは葉の鋭いタイプの樹木が沢山ある森の",
                    "そいつらの葉で覆われた天だ。",
                    "葉の隙間から辛うじて空が見えたが", "白と水色を混ぜたような色合いだった"),
            h.deal("つまり今$eryは仰向けで地面か地面に近い場所に倒れているということだ。",
                    "$meから頭部は見えない。", "胸部も見えない。",
                    "負傷しているのかどうかも確認はできない"),
            h.think("前に彼女が視覚の分離という芸当を$meに試してくれたが",
                    "そんな技がパンツにできるとは思えない"),
            h.think("彼女は動くこともなく", "返事すらしない。",
                    "意識があるが答えられないというのではなく",
                    "完全に意識を失っていると考えた方が良いだろう"),
            h.think("パンツである$meにできることは思考すること",
                    "見ること", "聞くこと", "感じること",
                    "そして話すことだ"),
            hero.talk("おい！", "誰かいるか？", "もしこの声が聞こえるなら返事をしてくれ！"),
            h.think("そういえば$n_dranはどうしたのだろう。",
                    "$eryがやったような妙な指笛を吹かなければ来てくれないのだろうか。",
                    "もしそうなら指のない$meには不可能だ"),
            h.think("あの$lilyという$eryの妹だという女性は追いかけてこないのだろうか。",
                    "彼女を憎んでいるとはいえ", "ここから更に状況が悪化するとも考えづらい。",
                    "少なくとも話し合うことができれば交渉することも可能だろう"),
            hero.talk("なあ？", "誰もいないのか？", "おい！"),
            h.hear("$meの声が響くだけだ。",
                    "このまま$eryが目覚めず",
                    "誰も付近を通りかからなかったら",
                    "$meは彼女と共にここで朽ちていくのだろうか"),
            h.think("それは世界から見れば死に等しい。",
                    "誰にも知られず",
                    "外界に影響も与えず",
                    "世界から忘れ去られた存在としてそのうちに空気や地面と同化する"),
            h.think("そんなことを考えて", "パンツながらに寒さを感じた"),
            hero.talk("$meはここにいるぞ！", "まだ生きてる！",
                    "パンツになったけど", "まだ生きているんだ！"),
            h.hear("その声すら虚しく響いたけれど",
                    "木霊が返ってくるようにして",
                    "ガサリ、と足音が聞こえた"),
            hero.talk("誰だ？"),
            mirei.talk("誰か……いるんですか？"),
            h.hear("それはか細い女性の声だった"),
            )

## ep24 scenes
def sc_meetgirl(w: wd.World):
    h = hero = w.hero
    ery, dran, lily, mirei = w.ery, w.dran, w.lily, w.mirei
    return w.scene("女性に出会った",
            h.be(w.stage.left_prison, w.day.outprison),
            mirei.talk("そちらですか？"),
            h.hear("やや怯えを含んだ女性の声が",
                "ガサゴソという葉を踏み締める音を伴って近づいてくる"),
            h.think("訳も分からないものに恐怖心を覚える", "というのは実に人間らしい反応だ。",
                "だから$meはその女性の危険度が低いだろうと推測を立てて更に声を出した"),
            hero.talk("声が聞こえたんだな？",
                "こっちだ。", "人が倒れてているんだ"),
            h.think("うまく伝わるだろうか"),
            h.hear("その声の主は茂みを掻き分けながら注意深く歩いているようで",
                "落ち葉を踏むのとは別の音が間に挟まる"),
            mirei.talk("あ！"),
            h.look("どうやら$eryの体が視界に入ったらしい"),
            h.hear("すぐに慌ただしい足音になり",
                "$meの視界にもその姿を現した"),
            mirei.talk("大丈夫ですか？"),
            h.look("茂みを抜けて姿を見せたのは", "人間の女性だった。",
                "身長は百六十ないくらいだろうか。",
                "短い茶髪で栗色の大きな瞳が目を引く。",
                "ただ$meがこの世界で見た生き物は今まで全て裸体だった。",
                "骨や毛皮", "硬化した皮膚などを裸と呼ぶものかどうかは分からないが",
                "ただ一人の例外を除いて裸体だったのだ"),
            h.look("けれど現れた女性は首から膝の上までを一枚の布で隠している。",
                "その布の下や後側がどうなっているかは見えないが",
                "少なくとも上半身から下半身の大切な部分は隠されていた。",
                "布製のエプロンといった見た目だ"),
            mirei.talk("あの", "どうされましたか？"),
            h.look("彼女の目は当然パンツである$meではなく$eryの方に向いている。",
                "反応がないことに不安そうな表情になり",
                "彼女はしゃがみ込んで$eryを揺すった"),
            mirei.talk("大丈夫なんですか？", "聞こえますか？"),
            h.think("彼女を頼るしかない。",
                "$eryは揺すられても目覚めそうにないし",
                "やはり$meが交渉するしかないだろう"),
            hero.talk("すまないが……"),
            mirei.talk("あの", "分かりますか？"),
            h.deal("彼女は声がしたのに気づいて",
                "$eryの体に手をやっている"),
            mirei.talk("どうされました？"),
            h.deal("けれど話しかけているのはやはり$eryの方だ。",
                "その声は彼女の顔へと向いている"),
            hero.talk("そっちじゃない。", "今この女は意識を失っているんだ"),
            mirei.talk("え？", "けど声が……"),
            hero.talk("こっちだ。", "もっと下の方をよく見てくれ"),
            mirei.talk("下？"),
            h.think("その不安そうな声に", "$meには彼女の戸惑いが手に取るように分かった。",
                "$meだって同じ状況に置かれたら全く同じ反応を示しただろう"),
            hero.talk("もっと下", "足の方を見てくれ"),
            mirei.talk("足……ですか？"),
            h.look("明らかに気味悪がって眉を寄せている彼女の顔が",
                    "漸く$meの視界に入った"),
            hero.talk("やあ"),
            mirei.talk("キャアァァァ！！！"),
            h.deal("彼女は今までで一番大きな声を出してその右手で$meを平手打ちした"),
            h.think("女性に叩かれるという経験はこれで二度目だ。",
                    "一度目は人間だった時、元彼女に。", "そしてパンツになってからの今が二度目だった"),
            h.think("一度体験済みとはいえ",
                    "肉体の痛みと同時に精神的な痛みがあって",
                    "一瞬何が起こったのか分からなくなるのは一緒だった"),
            hero.talk("驚かせてすまない。",
                    "$meは彼女に履かれているパンツなんだ。",
                    "パンツ", "分かるか？"),
            mirei.talk("ぱ、ぱんつ", "さん？"),
            h.deal("彼女は立ち上がって自分の胸の前に手をやり", "防御姿勢を取りながら$meに恐れの目を向ける"),
            hero.talk("ああ、そうだ。",
                    "パンツだ。",
                    "彼女の下腹部を覆うこれのことだ"),
            mirei.talk("しゃべれる、ん、ですか？"),
            h.deal("ああ", "と頷きを返した後で", "$meは無理矢理に右側の目を瞑って見せる。",
                    "ウインクというにはあまりに不格好だったろうが",
                    "それでも元彼女の時はこれで上手く笑ってくれた"),
            h.look("だが人生そう簡単に同じ手は通用しないものらしい"),
            mirei.talk("何ですか……？"),
            h.think("彼女の警戒心を高めただけのようで",
                    "$meの努力は逆効果になったようだ"),
            hero.talk("いきなりパンツに話しかけられてあんたも困っているだろうが",
                    "こっちも履いている彼女が気を失ったままでとても困っている。",
                    "危害は加えないしパンツである$meにはそんな真似できないから安心して欲しい",
                    "と言っても難しいかも知れないが",
                    "何とか助けてはくれないだろうか？"),
            h.look("できる限り落ち着いた声で話しかけてみた。",
                    "彼女はまだ$meを見下ろしたままだが",
                    "その視線が何度か$meと$eryを行き来してから「そうですね」と再び屈み込んでくれる"),
            mirei.talk("ぱんつ、という生き物は初めてなのでよく分かりませんが",
                    "こちらの$i_humansの方があなたのご主人様なのですね？"),
            hero.talk("あ、ああ。", "そうだ"),
            h.think("おそらく$eryは否定するだろうが", "この場を収める為には嘘も方便というものだろう"),
            mirei.talk("そうですか。",
                    "それはお困りですよね。",
                    "ぱんつ、さん？", "はお一人で動けないんですか？"),
            hero.talk("パンツですから"),
            h.look("即答したが彼女の方はよく分からなかったようだ"),
            hero.talk("無理を言ってすまないが",
                    "彼女の体をどこか安全なところまで運んでやってくれないだろうか？",
                    "このままだといつか日も暮れて夜になるだろうし",
                    "そうなったら野生動物に襲われる心配も出てくる。",
                    "何より冷えるだろう。", "そうなると体力も奪われる"),
            h.look("そこまで喋ってから$meは彼女が口を半開きにして何度も瞬いてることに気づいた"),
            hero.talk("すまない。", "いつも説明を始めると長いと言われてしまうんだ。",
                    "話のよく分からなかったところは忘れてくれていい。",
                    "とにかく彼女をここから運んで欲しい。", "それを頼めないだろうか？"),
            mirei.talk("え、ええ。", "分かりました"),
            h.look("それでも彼女はしっかり頷くと",
                    "$eryの頭側に回って彼女の体を起こしてくれた"),
            h.deal("長座位にすると今度は前側に回り",
                    "屈み込んで$eryの両腕を自分の肩へと載せた"),
            hero.talk("あ……"),
            h.look("前に回って背中側が露になると", "どうやら裸エプロン宜しく前掛けの他には何も身につけていないことが判明した。",
                    "今$meの視界には屈み込んだ彼女の背骨がくっきりと見える綺麗な背中と",
                    "それに続く裸の臀部が広がっている"),
            mirei.talk("背負いますからもしぱんつさんが苦しくなったら言って下さいね"),
            h.deal("そう断り", "彼女は$eryの体を引きつける。",
                    "$meの前面はちょうど彼女の腰の辺りに押し付けられた"),
            h.look("再び視界は薄暗くなったが",
                    "それよりも見た目よりも筋肉質できゅっと引き締まった彼女の臀部と",
                    "$meを履いている$eryの下腹部とに挟まれているという状況に",
                    "何とも言い難い感情が湧き上がっていた"),
            mirei.talk("$meの村まで少しありますけど", "我慢して下さいね。", "行きますよ？"),
            h.deal("彼女はそう言ってから立ち上がり", "$eryを背負うと",
                    "森の中を歩き出した"),
            h.think("こんな時", "$eryのように視界を分離させたり相手の視界を借りたりできれば",
                    "ディスカバリー的な森林映像を見られたのかも知れない"),
            h.look("だが現実は女性の腰とそこから続く上臀部が左右に揺れ動く様を", "じっと見続けるしかなかった"),
            )

## ep25 scenes
def sc_gotovila(w: wd.World):
    h = hero = w.hero
    ery, dran, lily, mirei = w.ery, w.dran, w.lily, w.mirei
    return w.scene("村へ向かう道",
            h.be(w.stage.forest1, w.day.outprison),
            h.think("$meは森の中を運ばれているんだよな"),
            h.look("自分の前では勤勉な彼女の臀部の筋肉がしっかりと動いている様をずっと見せられていた"),
            mirei.talk("何か言われましたか？"),
            hero.talk("いや、大丈夫だ。",
                "それよりあんたも重かったら途中で休んでもらって構わないからな"),
            h.think("パンツでなく人の姿形をしていたなら", "小柄な女性二人くらい何とかがんばって運ぶことができたろう。",
                "それが一人は気を失い", "それをもう一人の女性に背負わせている状態というのは",
                "己の無力さを痛感すると共に何とも情けない"),
            h.deal("体感で背負われ始めてから既に十分から十五分は経っている。",
                "だが彼女は特に息を乱すでもなく森を歩き続け", "時折$meの様子を伺うように声を掛けてくれていた"),
            hero.talk("村", "と言ったが", "あんたの他にも誰か暮らしているということだな？"),
            mirei.talk("そうですよ。",
                "村長様含めて三十人程度でしょうか"),
            h.think("この世界の人口のほどがよく分からないから何とも言えないが",
                "それでも今までに見た集団というのは$st_prisonに巣を作っていた$i_antsの群れしかないので",
                "人間が三十人といえば結構な規模に思える"),
            hero.talk("突然こんなことを訊いて失礼かも知れないが",
                "あんたらはその", "パンツのことは知らないんだよな？"),
            mirei.talk("はい。", "見るのも聞くのも初めてです。",
                "$pantsはどちらの方なんですか？"),
            h.think("どちら", "と尋ねられても$meには日本あるいは東京と答えるしかなかったが",
                "それを話したところで混乱させるだけだろう。",
                "だから「よく分からないんだ」と答えておいた"),
            hero.talk("そういえばあんたのその前掛け。",
                "$meの知っているものではエプロンと呼んでいたものに似ているんだが",
                "みんなそれを身に着けているのか？"),
            h.deal("今まですんなりと答えてくれていたのに",
                "何故かその質問に彼女は答えない。",
                "黙り込み", "先を急ぐように早足になった"),
            hero.talk("何か悪いことを訊いてしまったのか？",
                "$meもこちらに来てまだ日も浅いのでどうもこの世界の礼儀というものがよく分からなくてな。",
                "失礼があったことは謝る。", "すまなかった"),
            mirei.talk("違うんです"),
            h.deal("彼女はそう言うと「はぁ」と小さく息をついてから歩く速度を緩め",
                "事情を話してくれた"),
            mirei.talk("実はこの前掛け", "$meが発案して作ったものなんです"),
            hero.talk("それじゃあ以前は？"),
            mirei.talk("当然何も身につけていませんでした。",
                "$pantsの言葉では全裸と呼ぶのでしょうか？",
                "とにかく何もなく", "常に全てを露出した状態のままでした"),
            h.think("それを聞いてこの世界にはパンツどころか基本的な衣類すら存在しないんじゃないかと思えてきた。",
                "そうすると今$meは", "この世界に服というものが誕生する瞬間に立ち会っているのかも知れない。",
                "人類が最初に身に着けたのがアダムとイブの局部を隠す葉っぱだったかどうかは知らないが",
                "体毛の大半を失った人間が厳しい条件下でも生き抜く為に発明したという服は",
                "少なくともこの世界ではまだそこまで必要とは考えられていないということだろう"),
            mirei.talk("でも$meたちにとってはそれが当たり前の状態で",
                "誰も疑問なんて持たなかったんです"),
            hero.talk("それはそうだろう。",
                "$meもここに来るまで当たり前のように下着や服を着るものだと思っていたからな"),
            mirei.talk("したぎ？", "ふく？"),
            h.deal("やはりその単語も存在しないようだ。",
                    "$meは自分のようなパンツが下着で",
                    "彼女が付けている前掛けのようなものが服だ", "とざっくりとした説明をしておいた"),
            mirei.talk("$pantsの世界ではもっと沢山の服というものがあるのですね。",
                    "いつか$meも$pantsの世界に行くことができるでしょうか？"),
            hero.talk("それは……どうだろうな"),
            h.think("パンツである自分と常識の通用しないこの世界に慣れることに必死で",
                    "自分が人間として三十年ほど生きたあの世界に帰ろうと",
                    "何故今まで一度も考えなかったのだろう"),
            h.think("やはりあのトラックが向かってきた瞬間に$meの精神は一度死んでしまったのかも知れない"),
            h.think("それともパンツではなく人間の姿をしていたなら",
                    "一縷の望みを託して再び元の世界に戻って人生の続きを楽しむことを考えたろうか"),
            h.think("分からない"),
            h.think("いつの間にか自分がパンツ以外の姿をしていることを想像できなくなっていた。",
                    "手足がないことに慣れ",
                    "$eryに履かれることを当たり前と思い",
                    "常に股間の位置から世界を見上げることが日常になりつつあった"),
            mirei.talk("遠いんですか？"),
            hero.talk("そうだな。", "簡単には行くことはできない。",
                    "元大賢者とやらの力を以ってしてもな"),
            mirei.talk("え……"),
            hero.talk("どうした？"),
            h.deal("彼女の歩みが突然止まる"),
            mirei.talk("今", "なんて言われました？"),
            hero.talk("元大賢者とやら……？"),
            h.deal("$meがそう口にすると彼女は何も答えずに立ち止まり",
                    "その背中から$eryを下ろす"),
            hero.talk("どうしたんだ？"),
            h.look("降ろされた$meの視界は地面に近づき",
                    "足を曲げて座らされた$eryの股間から",
                    "彼女の肩を持ってこっちを真剣な表情で見つめる栗色の瞳を真正面に捉えた"),
            mirei.talk("もしかして$pantsのご主人様って", "あの大賢者様なんですか？"),
            hero.talk("元大賢者だと聞いている"),
            mirei.talk("本当なんですね？"),
            h.deal("$eryの肩を揺すりながら彼女は$meに何度も「本当か？」と尋ねた"),
            h.deal("$meが$st_prisonの奥深くに五百年閉じ込められていたことと",
                    "そこから出てきて知らない女に崖から落とされたことを話すと",
                    "女は驚きを隠せず口を押さえて大きく首を振った"),
            mirei.talk("それじゃあ伝説は本当だったんですね！",
                    "信じられない……"),
            hero.talk("伝説って何のことだ？",
                    "そもそもあんたは大賢者が恐くないのか？", "世界を破壊しようとしたんだろ？"),
            h.look("その質問に彼女は首をぶるぶると左右に振る"),
            mirei.talk("$meが知っている伝承では",
                    "大賢者$ln_ery・$fn_ery様が五百年前にお隠れになられてからこの世界はおかしくなり始めたというものです"),
            h.think("そもそも$meの知識の範囲ではおかしいことだらけのこの世界が”おかしくなった”と言われても",
                    "何の実感も湧かなかった。",
                    "それとも五百年も経てば色々と話が捻じ曲げられるという", "よくある話だろうか"),
            mirei.talk("実は$meがこのエプロン？　ですか", "それを考案しなければならなかったのも",
                    "世界の大異変に関連しているんです"),
            hero.talk("$meにはさっぱり事情が分からないが",
                    "今この世界は", "おかしいのか？"),
            h.deal("彼女は栗色の目を閉じて大きく頷くと",
                    "再び$eryを背負った"),
            mirei.talk("ぜひ村で長に会って下さい。",
                    "そして大賢者様に$meたちの村を助けていただきたいのです"),
            h.deal("彼女は真剣な声でそう言うなり",
                    "一気に落ち葉を蹴って駆け出した"),
            )

## ep26 scenes
def sc_arrivevila(w: wd.World):
    h = hero = w.hero
    ery, dran, lily, mirei = w.ery, w.dran, w.lily, w.mirei
    zones = w.zones
    return w.scene("エプロンの村",
            h.be(w.stage.town1),
            h.explain("森で出会った彼女に背負われてやってきたのは",
                "村と言っても$meが想像していたような木で組んで建てた民家が幾つか集まっている",
                "というものではなく", "地面にテントのように三角形をした大きな屋根だけが並んでいた。",
                "その屋根も文化財に指定されるような茅葺きといったものではなく",
                "石だろうか", "何か硬質な四角が並べられている"),
            mirei.talk("確認してくるので", "こちらで少しお待ち下さい"),
            h.deal("そう言って彼女は$eryを背から下ろして地面に寝かせると",
                "足早に手前の三角屋根の中へと入っていった"),
            h.look("置き去りにされた$meが見ていたのは", "空だった"),
            h.think("パンツの視界。",
                "自分で動くことすらできない", "誰かの助けを得られないと何もできない",
                "$eryの不思議な力のお陰でこうして見たり喋ったりできているが",
                "それが無ければただ思考するだけの存在だったろう"),
            h.think("いや。", "そもそもパンツは思考するのか？"),
            h.think("手足がない", "頭がない", "動かせない",
                "ということがこれほど思考や感情に影響を与えるものだとは思わなかった。",
                "$meはどこに行っても変わらずに$meのままだ",
                "と元彼女に言ってしまったことを今は後悔している"),
            h.think("パンツになったら", "それはもう$meではなくパンツの思考だろう"),
            h.look("見上げた空の青さが目に染みる",
                "というのはこんな気分のことなんだろうな", "と物思いに耽っていたところに",
                "彼女が小走りで戻ってくる"),
            mirei.talk("頼み込んだら数日なら置いて下さるそうです。",
                "ただ$meの家で悪いんですけど"),
            hero.talk("事情はよく分からないが", "今は助かるよ。",
                "たぶん少し休めば彼女も目を覚ますだろう"),
            h.think("それは$meの楽観的な希望でもあった。",
                "けれど元大賢者であり", "$st_prisonの中では$i_antsの大群を相手にあれだけの立ち回りをした彼女だ。",
                "そう簡単にくたばることはないだろう"),
            mirei.talk("$meたちの家は少し離れているんです"),
            h.deal("そう断ってから彼女は再び$eryを背負うと",
                "沢山立つ三角屋根の間を縫って歩いて行った"),
            )

def sc_herhouse(w: wd.World):
    h = hero = w.hero
    ery, dran, lily, mirei = w.ery, w.dran, w.lily, w.mirei
    zones, mam = w.zones, w.mam_mirei
    return w.scene("彼女の家にて",
            h.be(w.stage.mirei_house),
            h.deal("三角屋根の中は", "二メートルほど地面を掘って造られた大きな部屋になっていた"),
            mirei.talk("粗末な家ですみません"),
            h.deal("彼女はそう言って一段高くなったベッド代わりに使ってそうな場所に$eryを寝かせる"),
            mam.talk("$mirei", "帰ってきたのかい？"),
            h.hear("声がしたのは仕切りの壁で区切られた奥からだった"),
            mirei.talk("母さん", "森で気を失っている人を助けたの"),
            mam.talk("あらまあ。", "他にもお前みたいな人がいたのね？"),
            h.look("奥から出てきた女性は目が不自由なのか",
                "壁伝いで歩いてきて", "その手を彼女が掴んでこちらに誘導した"),
            mam.talk("$mirei", "こちらの方は大丈夫なの？"),
            h.deal("彼女が母さんと呼んだ女性は自分の手で$eryのお腹の辺りに触れながらそう尋ねると",
                "膝を突いて屈み込み", "全体をじっくりと確かめるように撫でていく。",
                "上半身を終えると当然$meの方にも女の手がやってきたが",
                "その感触はややざらついて", "水仕事なのか手仕事なのか",
                "日々何かしらの作業に従事している職人のものと感じた"),
            mam.talk("この股のところにあるものは$mireiが作ったものかい？"),
            mirei.talk("$meじゃないの。",
                "その方は$pantsと言って", "どこか遠くからこちらにいらしたみたい"),
            h.deal("彼女にそう紹介されたが", "やはりその母親も「ぱんつ」という言葉を発音し辛そうに繰り返す"),
            h.think("少し慣れてきたが", "誰もがパンツという言葉や存在を知らないというのは",
                "自分のこれまで人間として生きてきた常識を丸ごと否定されているようで何とも心細い"),
            mirei.talk("$meはこれから村長さまを呼んで来なくちゃいけないから",
                "お母さん", "それまでこの方たちのことをお願いします"),
            mam.talk("ああ。", "大丈夫だからいってらっしゃい。",
                "長さまに失礼のないようにね"),
            mirei.talk("分かってる。", "余計なことを言わないようにすればいいんでしょ。",
                "すぐ戻ってくるから"),
            h.deal("彼女はそう言うと$meを見てから小さく手を振り", "家を出て行ってしまう"),
            h.think("これで最低でも風雨は防げるようになったと安堵した$meの視界を",
                "彼女の母親の掌が何度も往復する"),
            hero.talk("そんなに珍しいのか？"),
            h.think("彼女と同じように母親も前掛けを着けていたが", "確かに$meの素材よりはしっかりしてそうだ"),
            h.think("そういえば$meはどんな素材で出来ているのだろう。",
                "勝手に合成繊維だと思い込んでいたが", "どうもこの世界にそんなものがあるとは思えない。",
                "無難なところで綿だろうか。", "綿花", "あるいは綿のような実を付ける植物はありそうだが"),
            mam.talk("あら", "お目覚めになったの？"),
            h.think("$meは声を発してしまってから黙ったままでいた方が良かったことに気づく"),
            hero.talk("驚かせてしまったらすみません。",
                "$meは今あなたが触っているパンツなんです"),
            mam.talk("え？", "ぱんつ……さん？"),
            h.deal("結局ついニ十分ほど前に彼女とやったやり取りを繰り返し",
                "簡単に$meがパンツであり", "見たり喋ったりできることを理解してもらった"),
            mam.talk("それじゃあ", "あなたは元大賢者さんのパンツさんなんですね？"),
            hero.talk("まあ", "そういうことになりますかね"),
            h.deal("大賢者という言葉を出すのを躊躇ったが",
                "説明を簡略化する為に使ってしまった。",
                "それでも彼女はその名に驚いた様子もなく",
                "$meがパンツということも受け入れてくれた"),
            mam.talk("$meは小さい頃からずっとこの村から出たことがなくて",
                    "あの子が$meの娘になってくれるまで知らないことばかりだったんです。",
                    "それで大賢者さんはどうして亡くなっているのですか？"),
            hero.talk("え？"),
            h.think("聞き間違いでなければ", "今彼女は$eryを”亡くなっている”と言った"),
            mam.talk("だってこの方", "全然$i_energyを感じませんもの"),
            hero.talk("そうなのか？", "あんたは触れればそれが分かるのか？"),
            h.think("$mireiと呼んでいた彼女の娘の方はそういったことが全然分からないと言っていた"),
            mam.talk("はい。",
                    "$meはこの$st_town1村の元巫女ですから"),
            h.deal("そこに足音が複数響き",
                    "数名が家に入ってきたのが分かった"),
            mirei.talk("お母さん……"),
            h.hear("彼女の声に続いて聞こえたのは",
                    "嗄れた老女のそれだった"),
            zones.talk("それで元大賢者というのは……その小娘かい？"),
            )

## ep27 scenes
def sc_meetreader(w: wd.World):
    h = hero = w.hero
    ery, dran, lily, mirei = w.ery, w.dran, w.lily, w.mirei
    zones, mam = w.zones, w.mam_mirei
    return w.scene("長に出会う",
            h.be(w.stage.mirei_house, w.day.meetmirei),
            h.look("$mireiに連れられて家に入ってきたのは",
                "灰色の髪の毛で体の前面を覆った老女だった。",
                "$meの視界では下腹部まで覆われているように見えたが",
                "それがどこまで続いているかまでは見られない"),
            mam.talk("あら", "村長さま"),
            h.deal("その声に$mireiの母親は顔を入り口の方へと向けたが",
                "長の方は何も反応せず", "そのまま$eryの前まで歩いてきて",
                "傍で屈んでいた母親は邪魔にならないようにと後ろに下がった"),
            zones.talk("ふむ"),
            h.look("長の老女は$eryを見て小さく唸ると",
                "後ろを振り返って$mireiを手招きする"),
            mirei.talk("何でしょうか"),
            zones.talk("何の能力もないお前に何故この少女ごときが大賢者だと分かるのかねえ？",
                "それとも……"),
            h.look("眉毛のほとんどないその皺塗れの目を一瞬彼女の母親の方へと向けたが",
                "$mireiはすぐにそれを否定する"),
            mirei.talk("お母さんじゃありません。", "$meが大賢者さまの従者である$pantsから直接聞きました"),
            zones.talk("ぱん、つ……さん？"),
            h.think("何度となく繰り返された光景だったが",
                "すんなりとパンツと発音できる人間はいないのだろうか"),
            hero.talk("パンツ", "だよ。", "婆さん"),
            h.deal("声を上げたところで最初は気づかれないだろうと高を括っていた。",
                "けれど村の長というだけあってか", "その視線はすぐに$meを捉える"),
            zones.talk("お前は……$i_humansではないな。", "何者だ？"),
            h.look("長は二歩ほど後ずさると",
                "$meに向かって右の掌を向けた。", "彼女も$eryと同じように不思議な力を扱えるのだろうか"),
            hero.talk("$meはパンツだ。",
                "パンツがどういうものかを理解してもらうのが難しいというのはよく分かっている。",
                "それでも何かしら理解できるように説明するなら",
                "そこの彼女", "$mireiさんが身につけている前掛けのような",
                "衣類の一種ということになる"),
            h.deal("ちらりと$mireiを見やってから", "長は$meに顰め面を向けた"),
            zones.talk("そういうことかい……。",
                "あんたらはこの$bad_maekakeを着けさせる為にこんな元大賢者だという偽物を準備して",
                "$meを謀ろうというんだね？"),
            mirei.talk("そんな！", "長さま。", "それは違います。",
                "この方は$meとは何も関係ありませんし",
                "こちらの女性は本当にあの大賢者さまなのです"),
            h.look(""),
            # NOTE: 彼女が面倒を見ることと、大賢者だと証明すると言い出す。そしてパンツが脱げる
            )

# episodes
def ep23(w: wd.World):
    return (w.chaptertitle(TITLE[0]),
            sc_mysister(w),
            )

def ep24(w: wd.World):
    return (w.chaptertitle(TITLE[1]),
            sc_meetgirl(w),
            )

def ep25(w: wd.World):
    return (w.chaptertitle(TITLE[2]),
            sc_gotovila(w),
            )

def ep26(w: wd.World):
    return (w.chaptertitle(TITLE[3]),
            sc_arrivevila(w),
            sc_herhouse(w),
            )

def ep27(w: wd.World):
    return (w.chaptertitle(TITLE[4]),
            sc_meetreader(w),
            )

# outlines
def story_baseinfo(w: wd.World):
    return [
            ]

def story_outline(w: wd.World):
    return [
            ]

# main
def story(w: wd.World):
    return (w.maintitle(cnf.TITLES["chap03"]),
            ep23(w),
            ep24(w),
            ep25(w),
            ep26(w),
            ep27(w),
            )

def main(): # pragma: no cover
    from src.pants.story import world
    w = world()
    return w.build(story(w))


if __name__ == '__main__':
    import sys
    sys.exit(main())

